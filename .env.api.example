# FastAPI Application Settings
API_TITLE=Workflow Management API
API_VERSION=1.0.0
API_DESCRIPTION=REST API for managing workflow orchestration
API_PREFIX=/api/v1
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true
API_WORKERS=1

# Database Configuration
DATABASE_URL=postgresql://workflow_user:workflow_pass@localhost:5432/workflow_db
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_ECHO=false

# Kafka Configuration
KAFKA_BROKERS=localhost:9092
KAFKA_EXECUTION_TOPIC=workflow.execution.requests
KAFKA_CANCELLATION_TOPIC=workflow.cancellation.requests

# Authentication Settings (CHANGE IN PRODUCTION!)
JWT_SECRET=your-secret-key-here-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60
API_KEY_HEADER=X-API-Key

# CORS Settings
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=*
CORS_ALLOW_HEADERS=*

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json

# Pagination Settings
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# Feature Flags
ENABLE_METRICS=true
ENABLE_AUDIT_LOGGING=true

# AI Workflow Generator Configuration

# Gemini API Settings (REQUIRED)
GEMINI_API_KEY=your-gemini-api-key-here
GEMINI_MODEL=gemini-1.5-pro
GEMINI_MAX_TOKENS=8192
GEMINI_TEMPERATURE=0.7
GEMINI_TIMEOUT_SECONDS=60

# Session Configuration
SESSION_TIMEOUT_MINUTES=30
SESSION_CLEANUP_INTERVAL_MINUTES=5
MAX_SESSION_HISTORY_SIZE=100

# Document Processing Configuration (Requirement 9.4)
MAX_DOCUMENT_SIZE_MB=10
SUPPORTED_DOCUMENT_FORMATS=pdf,docx,txt,md
DOCUMENT_CHUNK_SIZE_TOKENS=6000

# Cache Configuration
AGENT_CACHE_TTL_SECONDS=300
WORKFLOW_CACHE_TTL_SECONDS=60

# Integration Endpoints (REQUIRED)
AGENT_REGISTRY_URL=http://localhost:8000/api/v1/agents
WORKFLOW_API_URL=http://localhost:8000/api/v1/workflows
API_TIMEOUT_SECONDS=30

# Rate Limiting Configuration (Requirements 9.2, 9.3)
MAX_REQUESTS_PER_SESSION=50
RATE_LIMIT_WINDOW_SECONDS=60
GLOBAL_RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_QUEUE_SIZE=50

# Retry Configuration (Requirement 9.1 - Exponential Backoff)
MAX_RETRIES=3
INITIAL_RETRY_DELAY_MS=1000
MAX_RETRY_DELAY_MS=30000
RETRY_BACKOFF_MULTIPLIER=2.0
RETRIABLE_STATUS_CODES=429,500,502,503,504

# Validation Configuration
ENABLE_STRICT_VALIDATION=true
ENABLE_AUTO_CORRECTION=true

# Logging Configuration (Disable in production for privacy)
LOG_LLM_PROMPTS=false
LOG_LLM_RESPONSES=false
